{{- $limit := .Get "limit" | default 2 -}}
{{- $news := where site.RegularPages "Section" "news" | first $limit -}}

{{- if $news -}}
<div class="news-section" style="margin-top: 3rem; margin-bottom: 3rem;">
  <h2 style="font-size: 1.875rem; font-weight: 700; margin-bottom: 1.5rem;">ðŸ“° Latest News</h2>
  <div style="display: flex; flex-direction: column; gap: 1.5rem;">
    {{- range $news -}}
    <div style="padding: 1.5rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; background-color: var(--card-background, #ffffff); box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);">
      <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.75rem;">
        <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0;">
          <a href="{{ .RelPermalink }}" style="text-decoration: none; color: var(--text-primary, #111827); hover: color: var(--primary, #3b82f6);">
            {{ .Title }}
          </a>
        </h3>
        <time datetime="{{ .Date.Format "2006-01-02" }}" style="font-size: 0.875rem; color: var(--text-secondary, #6b7280); white-space: nowrap; margin-left: 1rem;">
          {{ .Date.Format "Jan 2, 2006" }}
        </time>
      </div>
      {{- if .Summary -}}
      <p style="color: var(--text-secondary, #6b7280); margin: 0 0 0.75rem 0; line-height: 1.6;">
        {{ .Summary }}
      </p>
      <a href="{{ .RelPermalink }}" style="display: inline-flex; align-items: center; gap: 0.25rem; color: var(--primary, #3b82f6); text-decoration: none; font-size: 0.875rem; font-weight: 500;">
        Read more
        <svg style="width: 1rem; height: 1rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>
      {{- end -}}
    </div>
    {{- end -}}
  </div>
  <div style="margin-top: 1.5rem;">
    <a href="/news/" style="display: inline-block; padding: 0.5rem 1rem; background-color: var(--primary, #3b82f6); color: white; text-decoration: none; border-radius: 0.375rem; font-weight: 500; transition: background-color 0.2s;">
      View All News â†’
    </a>
  </div>
</div>
{{- end -}}
