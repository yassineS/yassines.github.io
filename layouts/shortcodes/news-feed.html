{{- $limit := .Get "limit" | default 2 -}}
{{- $news := where site.RegularPages "Section" "news" | first $limit -}}

{{- if $news -}}
<div class="news-section hx:mt-12 hx:mb-12">
  <h2 class="hx:text-3xl hx:font-bold hx:mb-6 hx:text-slate-900 hx:dark:text-slate-100">ðŸ“° Latest News</h2>
  <div style="display: flex; flex-direction: column; gap: 2rem;">
    {{- range $news -}}
    <div class="hx:p-6 hx:border hx:border-gray-200 hx:dark:border-neutral-800 hx:rounded-lg hx:bg-gray-50 hx:dark:bg-neutral-800 hx:shadow-sm hover:hx:shadow-md hx:transition-shadow">
      <div class="hx:flex hx:justify-between hx:items-start hx:mb-3">
        <h3 class="hx:text-xl hx:font-semibold hx:m-0">
          <a href="{{ .RelPermalink }}" class="hx:no-underline hx:text-slate-900 hx:dark:text-slate-100 hover:hx:text-blue-600 hx:dark:hover:text-blue-400 hx:transition-colors">
            {{ .Title }}
          </a>
        </h3>
        <time datetime="{{ .Date.Format "2006-01-02" }}" class="hx:text-sm hx:text-gray-600 hx:dark:text-gray-400 hx:whitespace-nowrap hx:ml-4">
          {{ .Date.Format "Jan 2, 2006" }}
        </time>
      </div>
      {{- if .Summary -}}
      <p class="hx:text-gray-700 hx:dark:text-gray-300 hx:m-0 hx:mb-3 hx:leading-relaxed">
        {{ .Summary }}
      </p>
      <a href="{{ .RelPermalink }}" class="hx:inline-flex hx:items-center hx:gap-1 hx:text-blue-600 hx:dark:text-blue-400 hx:no-underline hx:text-sm hx:font-medium hover:hx:underline">
        Read more
        <svg class="hx:w-4 hx:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>
      {{- end -}}
    </div>
    {{- end -}}
  </div>
  <div class="hx:mt-8">
    <a href="/news/" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background-color: #2563eb; color: white; text-decoration: none; border-radius: 9999px; font-weight: 500; transition: background-color 0.2s;">
      View All News â†’
    </a>
  </div>
</div>
{{- end -}}
